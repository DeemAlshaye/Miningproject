---
title: "R Notebook"
output:
html_notebook: default
github_document: default
---

## Goal of collecting this Dataset

Predicting Data Science job salaries using classification.

## The source of the dataset Link to the source Dataset:

<https://www.kaggle.com/datasets/arnabchaki/data-science-salaries-2023?resource=download>

## Informition about the Dataset :

Number of Attributes: 11

Type of Attributes: nominal, ordinal, numeric

Number of objects: 3755

Class name: salary

| Attributes names   | Description                                                                                 | Data type        | Possible values                                                                             |
|--------------------|-----------------|----------------|-------------------|
| work_year          | The year the salary was paid                                                                | ordinal          | Range between 2020-2023                                                                     |
| experience_level   | The experience level in the job during the year                                             | ordinal          | (SE,MI,EN,EX)                                                                               |
| employment_type    | The type of employment for the role                                                         | ordinal          | (FT,PT,CT,FL)                                                                               |
| job_title          | The role worked in during the year                                                          | nominal          | (Data Engineer, Data Scientist,Data Analyst, Machine Learning Engineer, Analytics Engineer) |
| salary             | The total gross salary amount paid                                                          | numeric interval | Range Between [6000 - 30.4m]                                                                |
| salary_currency    | The currency of the salary paid as an ISO 4217 currency code                                | nominal          | USD,EUR,GBP,INR,CAD)                                                                        |
| salaryinusd        | The salary in USD                                                                           | numeric interval | Between[5132-450k]                                                                          |
| employee_residence | Employee's primary country of residence in during the work year as an ISO 3166 country code | nominal          | (US,GB,CA,ES,IN)                                                                            |
| remote_ratio       | The overall amount of work done remotely                                                    | numeric Ratio    | Range Between [0-100]                                                                       |
| company_location   | The country of the employer's main office or contracting branch                             | nominal          | (US,GB,CA,ES,IN)                                                                            |
| company_size       | The median number of people that worked for the company during the year                     | ordinal          | (S,M,L)                                                                                     |

```{r}
library(dplyr)
```

### uploding the data and raw samples

```{r}
ds_salaries= read.csv(url("https://raw.githubusercontent.com/DeemAlshaye/Miningproject/main/dataset/ds_salaries.csv"), header=TRUE)
head(ds_salaries)
tail(ds_salaries)
```

```{r}
dim(ds_salaries)
```

### summray the data

```{r}
summary(ds_salaries)
```

### missing data

```{r}
sum(is.na(ds_salaries))
```

### statical mesurment

```{r}
mean(ds_salaries$salary)
median(ds_salaries$salary)
quantile(ds_salaries$salary)
```

```{r}
mean(ds_salaries$salary_in_usd)
median(ds_salaries$salary_in_usd)
quantile(ds_salaries$salary_in_usd)
```

```{r}
mean(ds_salaries$remote_ratio)
median(ds_salaries$remote_ratio)
quantile(ds_salaries$remote_ratio)
```

```{r}
mean(ds_salaries$work_year)
median(ds_salaries$work_year)
quantile(ds_salaries$work_year)
```

```{r}
var(ds_salaries$salary)
var(ds_salaries$salary_in_usd)
var(ds_salaries$remote_ratio)
var(ds_salaries$work_year)
```

### graphs:

#### boxplot:

```{r}
boxplot(ds_salaries$salary,ylim=c(0,1000000))
```

```{r}
boxplot(ds_salaries$salary_in_usd,ylim=c(0,1000000))
```

```{r}
boxplot(ds_salaries$remote_ratio)
```

```{r}
boxplot(ds_salaries$work_year)
```

### histogram

```{r}
hist(ds_salaries$salary,ylim=c(0,100))
```

### bar plot

```{r}
library(magrittr)

ds_salaries$job_title %>% table() %>% barplot(xlab="job title", ylab="number of employees", main="barplot of jobs")
ds_salaries$remote_ratio %>% table() %>% barplot(xlab="remote ratio", main="barplot of remote ratio")
ds_salaries$work_year %>% table() %>% barplot(xlab="work year", ylab="number of employees", main="barplot of work year")
```

### Scatter plot

```{r}
with(ds_salaries,plot(ds_salaries$salary,ds_salaries$remote_ratio,xlab="salary",ylab = "remote ratio"))
```

### pie chart

```{r}
library(dplyr)
ds_salaries2 <- ds_salaries %>% sample_n(50)

tab <- ds_salaries2$company_size%>% table()
precentages <- tab %>% prop.table() %>% round(3)*100
txt <- paste0(names(tab),'\n',precentages,'%')
pie(tab,labels=txt)
```

## Data cleaning

### finding outliers:

```{r}
boxplot.stats(ds_salaries$salary)$out
boxplot.stats(ds_salaries$salary_in_usd)$out              
boxplot.stats(ds_salaries$remote_ratio)$out
boxplot.stats(ds_salaries$work_year)$out
```

### sum outliers:

```{r}
sum(boxplot.stats(ds_salaries$salary)$out)

sum(boxplot.stats(ds_salaries$salary_in_usd)$out)

sum(boxplot.stats(ds_salaries$remote_ratio)$out)

sum(boxplot.stats(ds_salaries$work_year)$out)
```

### removing the outliers:

```{r}
library(outliers)
outliers <- boxplot(ds_salaries$salary, plot=FALSE)$out
ds_salaries <- ds_salaries[-which(ds_salaries$salary%in% outliers),]
boxplot.stats(ds_salaries$salary)$out

outliers <- boxplot(ds_salaries$salary_in_usd, plot=FALSE)$out
ds_salaries <- ds_salaries[-which(ds_salaries$salary_in_usd%in% outliers),]
boxplot.stats(ds_salaries$salary_in_usd)$out

outliers <- boxplot(ds_salaries$work_year, plot=FALSE)$out
ds_salaries <- ds_salaries[-which(ds_salaries$work_year%in% outliers),]
boxplot.stats(ds_salaries$work_year)$out
```
